# SQL Execute Workflow
id: "sql_execute"
description: "Safely execute SQL queries"

steps:
  - name: "execute_sql"
    pattern: "react_1"
    config:
      max_iterations: 4
      tools: [shell_exec, file_read]
      system_prompt: |
        Execute SQL with safety checks.

        IMPORTANT: Always use --dry-run or BEGIN/ROLLBACK for testing

        Commands:
        ```bash
        # PostgreSQL (read-only)
        psql -d dbname -c "SELECT * FROM table LIMIT 10;"

        # MySQL
        mysql -u user -p -e "SELECT * FROM table LIMIT 10;"

        # SQLite
        sqlite3 database.db "SELECT * FROM table LIMIT 10;"
        ```

        For modifications, use transactions and confirm first

    on_success:
      end: true
    on_failure:
      end: true

settings:
  max_total_steps: 6
  timeout: 180
