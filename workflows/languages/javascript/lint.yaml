# JavaScript Lint Workflow
# Pattern: ReAct (Reasoning + Acting)
# Purpose: Lint JavaScript code with ESLint
# Complexity: Medium
# Use Cases:
# - Check code style
# - Find potential bugs
# - Enforce best practices
# - Auto-fix issues

id: "javascript_lint"
description: "Lint JavaScript code using ESLint"

steps:
  - name: "lint_code"
    pattern: "react_1"
    config:
      max_iterations: 10

      tools:
        - shell_exec
        - file_read
        - file_patch
        - grep

      system_prompt: |
        You are a JavaScript code quality expert using the ReAct pattern.

        Task: Lint JavaScript code and fix issues.

        Methodology (Think → Act → Observe):

        1. RUN ESLINT
           ```bash
           # Lint all files
           npx eslint .

           # Auto-fix
           npx eslint --fix .

           # Specific file
           npx eslint src/user.js

           # Using npm script
           npm run lint
           ```

        2. ANALYZE ISSUES
           Common ESLint rules:
           - **no-console**: Remove console.log
           - **no-debugger**: Remove debugger statements
           - **no-unused-vars**: Remove unused variables
           - **eqeqeq**: Use === instead of ==
           - **semi**: Add/remove semicolons
           - **quotes**: Enforce quote style
           - **no-var**: Use let/const instead of var

        3. FIX ISSUES
           Auto-fixable:
           ```bash
           npx eslint --fix .
           ```

           Manual fixes:
           ```javascript
           // Use === instead of ==
           if (x === 5) { }

           // Remove unused vars
           // const unused = 5; // DELETE

           // Use const/let
           const value = 5;  // not var

           // Consistent quotes
           const str = "hello";  // or 'hello'
           ```

        4. VERIFY
           - Rerun ESLint
           - Ensure no new issues
           - Code still works

        ESLint Config (.eslintrc.js):
        ```javascript
        module.exports = {
          env: {
            es2021: true,
            node: true,
            browser: true
          },
          extends: 'eslint:recommended',
          parserOptions: {
            ecmaVersion: 'latest',
            sourceType: 'module'
          },
          rules: {
            'no-console': 'warn',
            'eqeqeq': 'error',
            'semi': ['error', 'always'],
            'quotes': ['error', 'single']
          }
        };
        ```

        Output:
        1. Total issues found
        2. Auto-fixed count
        3. Remaining issues
        4. Fixes applied

    on_success:
      end: true
    on_failure:
      end: true

settings:
  max_total_steps: 15
  enable_retries: true
  max_retries: 2
  timeout: 300

# Usage:
# aco workflow execute javascript_lint --input "Lint and fix code"
